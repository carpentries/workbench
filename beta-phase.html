<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.1">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>beta phase of The Carpentries Workbench – The Carpentries Workbench</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="text/javascript">
    function imgError(image) {
        image.onerror = "";
        image.src = "https://placekitten.com/200/200";
        return true;
    }
</script>



<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">The Carpentries Workbench</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./faq.html"> 
<span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-guides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Guides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-guides">    
        <li>
    <a class="dropdown-item" href="./workflow-guide.html">
 <span class="dropdown-text">How The Workbench Works</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/sandpaper-docs/instructor/style.html">
 <span class="dropdown-text">Style Guide (external)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./transition-guide.html">
 <span class="dropdown-text">Transition Guide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/workbench-dev">
 <span class="dropdown-text">Developer’s Guide (external)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-docs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical Docs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-docs">    
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/sandpaper/">
 <span class="dropdown-text">{sandpaper} (user interface)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/varnish/">
 <span class="dropdown-text">{varnish} (HTML, CSS, JS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/pegboard/">
 <span class="dropdown-text">{pegboard} (parsing, validation)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/carpentries/workbench/discussions"> 
<span class="menu-text">Join the Discussion</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/carpentries/workbench"> <i class="bi bi-github" role="img" aria-label="Workbench GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-the-workbench-beta-phase" id="toc-what-is-the-workbench-beta-phase" class="nav-link active" data-scroll-target="#what-is-the-workbench-beta-phase">What is the Workbench beta phase?</a>
  <ul class="collapse">
  <li><a href="#pre-beta" id="toc-pre-beta" class="nav-link" data-scroll-target="#pre-beta"><strong>pre-beta</strong> (two repos, two sites)</a></li>
  <li><a href="#beta" id="toc-beta" class="nav-link" data-scroll-target="#beta"><strong>beta</strong> (one repo using the workbench, two sites)</a></li>
  <li><a href="#pre-release" id="toc-pre-release" class="nav-link" data-scroll-target="#pre-release"><strong>pre-release (release-candidate)</strong> (one repo using workbench, one site)</a></li>
  </ul></li>
  <li><a href="#lessons-currently-in-the-beta-phase" id="toc-lessons-currently-in-the-beta-phase" class="nav-link" data-scroll-target="#lessons-currently-in-the-beta-phase">Lessons currently in the beta phase</a>
  <ul class="collapse">
  <li><a href="#timeline" id="toc-timeline" class="nav-link" data-scroll-target="#timeline">Timeline</a></li>
  <li><a href="#community-lessons" id="toc-community-lessons" class="nav-link" data-scroll-target="#community-lessons">Community Lessons</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">beta phase of The Carpentries Workbench</h1>
<p class="subtitle lead">2022-12-12 to 2022-04-03</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-the-workbench-beta-phase" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-workbench-beta-phase">What is the Workbench beta phase?</h2>
<p>The Carpentries Workbench, first released in January 2022, has been running without issue for several months with several early adopters, who have all contributed to its improvement from their feedback. It is now at the stage where we are confident that it is in a stable condition to be used for Carpentries Lessons as a whole. Of course, with over 100 maintainers and even more instructors, making a sudden change has the potential to be massively disruptive.</p>
<p>Instead, we are slowly releasing The Workbench in <strong>three stages</strong> over a <strong>16 week period during which there will be <em>parallel websites</em> showing two versions of the same lesson<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</strong> For example, when you visit <code>https://datacarpentry.org/R-ecology-lesson</code>, there will be a banner at the top of every page that will give a link to the beta version of the lesson (under <code>https://preview.carpentries.org/</code>) and the dates the styles version will be deprecated and finally superseded.</p>
<iframe width="100%" height="315" src="https://www.youtube-nocookie.com/embed/x7tETGpF3-4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p>This slow progression is designed to allow community members to familiarlize themselves with the new format and to build expertise within the community for May 2023 when the infrastructure is formally released.</p>
<p>The three stages are called <a href="#pre-beta">“pre-beta”</a>, <a href="#beta">“beta”</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, and <a href="#pre-release">“pre-release”</a>.</p>
<p>If you would like to participate in the beta phase, you can</p>
<ul>
<li><a href="index.html#resources">find out more about our workbench through our Resource Guide</a>,</li>
<li><strong><a href="https://github.com/carpentries/workbench/discussions/1">introduce yourself</a></strong>, and</li>
<li><a href="https://github.com/carpentries/workbench/discussions/">give feedback via GitHub Discussions</a></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://carpentries.org/images/blog/2022/05/workbench-beta-flow.png" class="img-fluid figure-img" onerror="imgError(this);" alt="Diagram of three phases of the beta release. At the top is box labelled 'current' that contains a GitHub logo, a cartoon of a lesson page. Below is a box labelled 'Pre Beta' with the same contents as the box above plus an additional GitHub logo in blue with a camera above it (to indicate a snapshot) and a new cartoon of a lesson page with a padlock over it. There is a clock indicating a timeframe of four weeks. The next box below is labelled 'Beta'. The GitHub logo has become blue and there is a lightning bolt and a line connecting it to the previous logo, indicating that a transformation happened. A smaller, grey GitHub logo is adjacent with a lock over it, indicating that it is archived. The  old lesson page now has a lock and information symbol above it. The new lesson page does not have any symbols above it. The timreframe is 6 to 8 weeks. The final box is titled 'Release Candidate' and has a single blue GitHub logo, a faded old lesson page, and a new lesson page with a timeframe of 6 months"></p>
<figcaption>An overview of the Workbench beta phase for the Git repository and the website, separated into three stages. The entire process will take about 12 months until the pre-beta stage.</figcaption>
</figure>
</div>
<section id="pre-beta" class="level3">
<h3 class="anchored" data-anchor-id="pre-beta"><strong>pre-beta</strong> (two repos, two sites)</h3>
<p>Lessons in this stage will have a workbench version of the lesson live in a separate repository in a <a href="https://github.com/fishtree-attempt">sandbox GitHub organisation</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. This version will be a <strong>snapshot from the date of the pre-beta version</strong>. Any changes made to the snapshot will appear on the beta website, but will disappear as soon as the lesson enters beta. Maintainers are encouraged to clone this snapshot repository and try it out by creating pull requests that change content.</p>
<div id="pre-beta-tasks" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tasks to try
</div>
</div>
<div class="callout-body-container callout-body">
<p>The purpose of the pre-beta stage is to make sure maintainers are comfortable with working on the lesson. Anything that happens on the <a href="https://github.com/fishtree-attempt">sandbox repository</a> is not permanent. Below is a list of tasks for different members of the community to try.</p>
<p>As always, please <strong>provide feedback in our <a href="https://carpentries.typeform.com/to/KRBl4IZM">&lt; 1 minute survey</a></strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Maintainers</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Instructors</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Contributors</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>During this time, you should take the time to merge or resolve any open PRs in your lesson. And yes, this is a big task and it is helpful to <a href="https://opensource.guide/best-practices/#learning-to-say-no">remember how to say ‘no’</a> in a way that respects the contributor’s time and effort. <em>If you feel like you need help with a particular PR, please contact Zhian and he will help craft a response.</em></p>
<ul>
<li>clone the lesson and build it locally (see the <a href="https://carpentries.github.io/sandpaper-docs#setup">setup instructions</a>)</li>
<li>merge one of the <a href="https://carpentries.github.io/sandpaper-docs/pull-request#automated-pull-requests">automated workflow update PRs</a> that is opened by <a href="https://github.com/carpentries-bot"><span class="citation" data-cites="carpentries-bot">@carpentries-bot</span></a></li>
<li>review a PR that includes some failing accessibility checks</li>
<li>(R lessons only) review a PR using the <a href="https://carpentries.github.io/sandpaper-docs/instructor/pull-request.html#reviewing-a-pull-request">preview of rendered changes</a></li>
<li>create an <a href="https://carpentries.github.io/sandpaper-docs/instructor/episodes.html#instructor-notes">inline instructor note</a> from existing instructor notes</li>
<li>fix a simple typo in a lesson—perhaps in a relatively non-obvious location e.g.&nbsp;in the setup instructions</li>
<li>fix some broken syntax in a lesson</li>
<li>write a link from one episode to another in the same lesson</li>
<li>trigger a rebuild of the lesson from GitHub Actions</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Browse the lesson and give feedback on your impressions. Is everything where you expect it to be?</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Make a contribution to an episode! Click on the “Edit this page” button and make a change.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="beta" class="level3">
<h3 class="anchored" data-anchor-id="beta"><strong>beta</strong> (one repo using the workbench, two sites)</h3>
<p>Lessons in this stage will undergo a lesson release of the styles version and a snapshot of the repository, including issues and pull requests, will be archived. The default branches (<code>gh-pages</code> and <code>main</code>) will be renamed and a transformation<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> of the default branch will be inserted as <code>main</code>:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>branch</th>
<th>transformation</th>
<th>new name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>gh-pages</code></td>
<td>none</td>
<td><code>legacy/gh-pages</code></td>
</tr>
<tr class="even">
<td><code>main</code></td>
<td>none</td>
<td><code>legacy/main</code></td>
</tr>
<tr class="odd">
<td>[default]</td>
<td><a href="https://github.com/carpentries/lesson-transition#motivation">remove styles commits</a>; transform syntax to Workbench</td>
<td><code>main</code></td>
</tr>
</tbody>
</table>
<p>The default lesson URL will still be served from the <code>legacy/gh-pages</code> branch during this period. <strong>All new changes to the lesson will be made to the workbench version.</strong></p>
<div id="beta-tasks" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tasks to try
</div>
</div>
<div class="callout-body-container callout-body">
<p>As always, please <strong>provide feedback in our <a href="https://carpentries.typeform.com/to/KRBl4IZM">&lt; 1 minute survey</a></strong></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Maintainers</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Instructors</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Contributors</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<iframe width="100%" height="315" src="https://www.youtube-nocookie.com/embed/161YyNjbYrQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p>Before this stage can happen, you must <strong>merge or resolve any open PRs in your lesson.</strong> <em>If you feel like you need help with a particular PR, please contact Zhian and he will help craft a response.</em></p>
<p>During this stage, you are working on the lesson as you would normally, which means to address any issues or pull requests that come in and improve the lesson. In addition, I would recommend to continue to do the things you were doing during the <a href="#pre-beta">pre-beta stage</a>, but first:</p>
<ol type="1">
<li>Update your local version of the lesson (<a href="#updating-clone">instructions to update</a>)</li>
<li>Re-fork the lesson if you have a fork (see the <a href="faq.html#update-fork-from-styles">instructions in the FAQ</a>)</li>
</ol>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Browse the lesson and give feedback on your impressions. Is everything where you expect it to be?</p>
<p>Now that the lesson source is in a permanent stage, <strong>add an inline instructor note</strong>. Click on the “Edit this page” button in any episode and make a change.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Make a contribution to an episode! Click on the “Edit this page” button and make a change.</p>
</div>
</div>
</div>
</div>
</div>
<div id="updating-clone" class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Updating your local clone
</div>
</div>
<div class="callout-body-container callout-body">
<p>During this phase, you will need to take care to bring in the changes to your local clone because they WILL be different. Details can be found in <a href="https://github.com/carpentries/lesson-transition#keeping-your-clone-up-to-date">The Lesson Transition repository</a>:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Quck and Dirty</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">via Git: Markdown Lessons</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">via Git: R Markdown Lessons</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>The easiest way is to get the updates and avoid dreaded merges is to use the <a href="https://happygitwithr.com/burn.html">burn it all down approach</a>. For those who are more confident in their git skills, read on.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p>The general strategy is the same as when someone changes the name of their default branch: rename your local branch, fetch the changes, and set the right branch to track upstream:</p>
<p>In your lesson, use these commands. DO NOT PULL FIRST.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout gh-pages              <span class="co"># make sure you are gh-pages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-m</span> gh-pages legacy/gh-pages               <span class="co"># rename the gh-pages branch to legacy</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch origin                                     <span class="co"># fetch changes from GitHub</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-u</span> origin/legacy/gh-pages legacy/gh-pages <span class="co"># make sure your legacy branch tracks</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main                  <span class="co"># switch to the brand-new main branch</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote set-head origin <span class="at">-a</span>      <span class="co"># set main branch to be your local default</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<p>The general strategy is the same as when someone changes the name of their default branch: rename your local branch, fetch the changes, and set the right branch to track upstream:</p>
<p>In your lesson, use these commands. DO NOT PULL FIRST.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main                  <span class="co"># make sure you are on main</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-m</span> main legacy/main     <span class="co"># change 'main' to legacy</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout gh-pages              <span class="co"># switch to gh-pages</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-m</span> gh-pages legacy/gh-pages       <span class="co"># rename the gh-pages branch to legacy</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch origin                             <span class="co"># fetch changes from GitHub</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-u</span> origin/legacy/main legacy/main <span class="co"># make sure your legacy branches track</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-u</span> origin/legacy/gh-pages legacy/gh-pages </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main                  <span class="co"># switch to the brand-new main branch</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote set-head origin <span class="at">-a</span>      <span class="co"># set main branch to be your local default</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
<p>Maintainers will continue to work on this workbench version of the lesson.</p>
</section>
<section id="pre-release" class="level3">
<h3 class="anchored" data-anchor-id="pre-release"><strong>pre-release (release-candidate)</strong> (one repo using workbench, one site)</h3>
<p>The styles version of the lesson (in the <code>legacy/</code> branches) will be removed, the default version of the lesson will switch to The Workbench, and the workbench-beta website will redirect to the live lesson.</p>
</section>
</section>
<section id="lessons-currently-in-the-beta-phase" class="level2">
<h2 class="anchored" data-anchor-id="lessons-currently-in-the-beta-phase">Lessons currently in the beta phase</h2>
<p>Maintainers of the following lessons have agreed to use their lessons to test out the beta phase of The Carpentries Workbench: If you want to preview these lessons, please visit the lesson, browse around and then <strong>provide feedback in our <a href="https://carpentries.typeform.com/to/KRBl4IZM">&lt; 1 minute survey</a></strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Lesson</th>
<th>Workbench URL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>R for Social Scientists</td>
<td><a href="https://preview.carpentries.org/r-socialsci" class="uri">https://preview.carpentries.org/r-socialsci</a></td>
</tr>
<tr class="even">
<td>Introduction to Geospatial Raster and Vector Data with R</td>
<td><a href="https://preview.carpentries.org/r-raster-vector-geospatial" class="uri">https://preview.carpentries.org/r-raster-vector-geospatial</a></td>
</tr>
<tr class="odd">
<td>Instructor Training</td>
<td><a href="https://preview.carpentries.org/instructor-training" class="uri">https://preview.carpentries.org/instructor-training</a></td>
</tr>
<tr class="even">
<td>Análisis y visualización de datos usando Python</td>
<td><a href="https://preview.carpentries.org/python-ecology-lesson-es" class="uri">https://preview.carpentries.org/python-ecology-lesson-es</a></td>
</tr>
</tbody>
</table>
<p>These lessons are all in the <a href="#pre-beta"><strong>first (pre-beta) stage</strong></a> and will transition to the <a href="#beta">second (beta) stage</a> on <strong>2023-02-03</strong>.</p>
<section id="timeline" class="level3">
<h3 class="anchored" data-anchor-id="timeline">Timeline</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">gantt
    dateFormat  YYYY-MM-DD
    axisFormat  %d %b
    title       Schedule For Lessons in Workbench Beta

    beta phase Start   :milestone, 2022-12-12,
    Pre Beta           :      dcre-pb, 2022-12-12, 56d
    Beta               :      dcre-b, after dcre-pb, 56d
    Pre-release        :milestone, crit, after dcre-b

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>These are the official Carpentries lessons that have entered the beta phase. Note that three out of the seven participated in the early stages of the beta phase, but were unable to continue due to extenuating circumstances. 2022 was a tough year for many people and participating in the beta phase was a voluntary act for our volunteer maintainers.</p>
<p>I am grateful for all of the maintainers who have participated in any stage of the beta phase. All of the contributions from the maintainers of these lessons have helped bring stability and refinement to The Carpentries Workbench.</p>
<ul>
<li><p><a href="https://github.com/datacarpentry/r-socialsci/discussions/411">datacarpentry/r-socialsci—R for Social Scientists</a></p></li>
<li><p><a href="https://github.com/datacarpentry/r-raster-vector-geospatial/issues/369">datacarpentry/r-raster-vector-geospatial—Introduction to Geospatial Raster and Vector Data with R</a></p></li>
<li><p><a href="https://github.com/carpentries/instructor-training/issues/1396">carpentries/instructor-training—Instructor Training</a></p></li>
<li><p><a href="https://github.com/datacarpentry/python-ecology-lesson-es/issues/79">datacarpentry/python-ecology-lesson-es—Análisis y visualización de datos usando Python</a></p></li>
<li><p><a href="https://github.com/datacarpentry/OpenRefine-ecology-lesson/discussions/275">datacarpentry/OpenRefine-ecology-lesson—Data Cleaning with OpenRefine for Ecologists</a></p></li>
<li><p><a href="https://github.com/datacarpentry/R-ecology-lesson/discussions/799">datacarpentry/R-ecology-lesson—Data Analysis and Visualization in R for Ecologists</a></p></li>
<li><p><a href="https://github.com/LibraryCarpentry/lc-shell/discussions/211">librarycarpentry/lc-shell—Library Carpentry: The UNIX Shell</a></p></li>
</ul>
</section>
<section id="community-lessons" class="level3">
<h3 class="anchored" data-anchor-id="community-lessons">Community Lessons</h3>
<p>The following community lessons will be migrated to the Workbench during the beta phase. At the moment, there is no definite timeline, but we will update that soon. Note that these lessons will skip directly from pre-beta into pre-release.</p>
<ul>
<li><a href="https://github.com/carpentries-incubator/git-novice-branch-pr">carpentries-incubator/git-novice-branch-pr—Version Control with Git</a></li>
<li><a href="https://github.com/carpentries-incubator/data-management-pipelines-engineering">carpentries-incubator/data-management-pipelines-engineering—Data management and analytic pipelines for engineers</a></li>
<li><a href="https://github.com/carpentries-incubator/markdown-intro">carpentries-incubator/markdown-intro—Introduction to Markdown</a></li>
<li><a href="https://github.com/carpentries-incubator/SDC-BIDS-IntroMRI">carpentries-incubator/SDC-BIDS-IntroMRI—Introduction to MRI and BIDS</a></li>
<li><a href="https://github.com/carpentries-incubator/SDC-BIDS-dMRI">carpentries-incubator/SDC-BIDS-dMRI—Introduction to dMRI</a></li>
<li><a href="https://github.com/carpentries-incubator/SDC-BIDS-fMRI">carpentries-incubator/SDC-BIDS-fMRI—fMRI Imaging Analysis</a></li>
<li><a href="https://github.com/carpentries-incubator/julia-novice">carpentries-incubator/julia-novice—A lesson exploring the Julia language</a></li>
<li><a href="https://github.com/carpentries-incubator/R-archaeology-lesson/issues/4#issuecomment-1138641684">carpentries-incubator/R-archaeology-lesson</a></li>
<li><a href="https://github.com/carpentries-incubator/python-packaging-publishing">carpentries-incubator/python-packaging-publishing—Packaging and Publishing with Python</a></li>
</ul>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>It will be mostly the same content, save for small changes as described in the different stages.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Note, this is NOT the same thing as an in-development lesson being in Beta.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>The sandbox organisation is called “Fish Tree Attempt”, which is a pun on Carpentry: <em>carp</em>—fish, tree—<em>ent</em> (after Tolkien), attempt—<em>try</em><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>For details of what will happen to the files and syntax during the transition, see <a href="transition-guide.html">The Transition Guide</a>. During the transformation, we will also excise the commits from styles, which necessarily rerwite the history of the lesson, while <strong>preserving the commits from lesson content</strong>. This move has two benefits: 1. The list of committers on the lesson will better reflect the actual lesson contributors rather than the contributors to the template. 2. Lessons will be reduced in size so that downloading them and contributing to them will be easier. There <em>is</em> precedence for this: When Software Carpentry moved its lessons from the original <a href="https://github.com/swcarpentry/bc">swcarpentr/bc</a> monorepo, they excised the commits related to each lesson from the repository, but preserved the history.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/carpentries\.github\.io\/workbench\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>