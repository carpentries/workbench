<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.23">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-03-29">

<title>Frequently Asked Questions – The Carpentries Workbench</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-018089954d508eae8a473f0b7f0491f0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-533b425ce69ff42d0beff6d483a390c1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="text/javascript">
    function imgError(image) {
        image.onerror = "";
        image.src = "https://placekitten.com/200/200";
        return true;
    }
</script>





</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">The Carpentries Workbench</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./faq.html" aria-current="page"> 
<span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-guides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Guides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-guides">    
        <li>
    <a class="dropdown-item" href="./workflow-guide.html">
 <span class="dropdown-text">How The Workbench Works</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/sandpaper-docs/instructor/style.html">
 <span class="dropdown-text">Style Guide (external)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./transition-guide.html">
 <span class="dropdown-text">Transition Guide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/workbench-dev">
 <span class="dropdown-text">Developer’s Guide (external)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-technical-docs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Technical Docs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-technical-docs">    
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/sandpaper/">
 <span class="dropdown-text">{sandpaper} (user interface)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/varnish/">
 <span class="dropdown-text">{varnish} (HTML, CSS, JS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://carpentries.github.io/pegboard/">
 <span class="dropdown-text">{pegboard} (parsing, validation)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/carpentries/workbench/discussions"> 
<span class="menu-text">Join the Discussion</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/carpentries/workbench"> <i class="bi bi-github" role="img" aria-label="Workbench GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#authoring" id="toc-authoring" class="nav-link active" data-scroll-target="#authoring">Authoring</a>
  <ul class="collapse">
  <li><a href="#why-r" id="toc-why-r" class="nav-link" data-scroll-target="#why-r">Why was R chosen for the infrastructure?</a></li>
  <li><a href="#do-i-need-rstudio" id="toc-do-i-need-rstudio" class="nav-link" data-scroll-target="#do-i-need-rstudio">Do I really need to use RStudio?</a></li>
  <li><a href="#what-is-an-r-library" id="toc-what-is-an-r-library" class="nav-link" data-scroll-target="#what-is-an-r-library">What is an R Library?</a></li>
  <li><a href="#workflow-plethora" id="toc-workflow-plethora" class="nav-link" data-scroll-target="#workflow-plethora">Why are there so many GitHub Workflows and what do they do?</a></li>
  <li><a href="#what-are-the-md-outputs-and-gh-pages-branches" id="toc-what-are-the-md-outputs-and-gh-pages-branches" class="nav-link" data-scroll-target="#what-are-the-md-outputs-and-gh-pages-branches">What are the <code>md-outputs</code> and <code>gh-pages</code> branches?</a></li>
  <li><a href="#why-is-the-workbench-creating-so-many-md-outputs-pr-branches" id="toc-why-is-the-workbench-creating-so-many-md-outputs-pr-branches" class="nav-link" data-scroll-target="#why-is-the-workbench-creating-so-many-md-outputs-pr-branches">Why is The Workbench creating so many <code>md-outputs-PR</code> branches?</a></li>
  <li><a href="#how-do-i-add-a-custom-logo" id="toc-how-do-i-add-a-custom-logo" class="nav-link" data-scroll-target="#how-do-i-add-a-custom-logo">How do I add a custom logo?</a></li>
  <li><a href="#custom-package" id="toc-custom-package" class="nav-link" data-scroll-target="#custom-package">How do I get my lesson to use a custom Workbench package?</a></li>
  <li><a href="#docker" id="toc-docker" class="nav-link" data-scroll-target="#docker">Is there a Docker Container?</a></li>
  </ul></li>
  <li><a href="#lesson-transition" id="toc-lesson-transition" class="nav-link" data-scroll-target="#lesson-transition">Lesson Transition</a>
  <ul class="collapse">
  <li><a href="#transition-new" id="toc-transition-new" class="nav-link" data-scroll-target="#transition-new">How do I transition my lesson to using The Workbench?</a></li>
  <li><a href="#long-fork" id="toc-long-fork" class="nav-link" data-scroll-target="#long-fork">How do I transition a long-running fork to using The Workbench?</a></li>
  <li><a href="#local-clones" id="toc-local-clones" class="nav-link" data-scroll-target="#local-clones">Local Clones</a></li>
  <li><a href="#github-forks" id="toc-github-forks" class="nav-link" data-scroll-target="#github-forks">Post-transition GitHub Forks</a></li>
  </ul></li>
  <li><a href="#teaching" id="toc-teaching" class="nav-link" data-scroll-target="#teaching">Teaching</a>
  <ul class="collapse">
  <li><a href="#github-forks-1" id="toc-github-forks-1" class="nav-link" data-scroll-target="#github-forks-1">GitHub Forks</a></li>
  <li><a href="#workshop-websites" id="toc-workshop-websites" class="nav-link" data-scroll-target="#workshop-websites">Workshop Websites</a></li>
  </ul></li>
  <li><a href="#learning" id="toc-learning" class="nav-link" data-scroll-target="#learning">Learning</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Frequently Asked Questions</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 29, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Work In Progress
</div>
</div>
<div class="callout-body-container callout-body">
<p>As this is a FAQ, it will continue to grow as we update it. <strong>If you have any questions please submit them to the <a href="https://github.com/carpentries/workbench/discussions">Workbench GitHub discussion forum</a>.</strong></p>
<p>I will attempt to divide these questions up by major categories, but these may shift around as questions come in.</p>
<p>If you have a question about definitions, consult our <a href="reference.html#glossary">glossary</a></p>
</div>
</div>
<section id="authoring" class="level2">
<h2 class="anchored" data-anchor-id="authoring">Authoring</h2>
<p>These FAQs are intended for those who contribute to, maintain, or create lessons using The Workbench. If you only ever visit the website, then head over to the <a href="#teaching">Teaching</a> or <a href="#learning">Learning</a> sections.</p>
<section id="why-r" class="level3">
<h3 class="anchored" data-anchor-id="why-r">Why was R chosen for the infrastructure?</h3>
<p>Most tools for webpage authoring outside of Wordpress and the like expect authors to have some knowledge or ability to manipulate HTML, CSS, JavaScript and one (or two) other languages to wrangle them all together. It’s great for people who are dabbling in webpage development, but as we’ve seen for several years now, it’s not great for people who do not have much experience with these technologies (think about the last time you assisted someone to install Jekyll correctly).</p>
<p>We chose R for four main reasons:</p>
<ol type="1">
<li>It has a really robust publishing ecosystem</li>
<li>It is available as a binary application on all major platforms with a packaging system that more often than not just works</li>
<li>Most of all: The R community as a whole is vibrant, diverse, welcoming, and is most aligned with The Carpentries core values.</li>
<li>It provides a throughline between the tools we teach and real-world applications.</li>
</ol>
<p>We tested the infrastructure in 2021 to make sure that it works for people with varying levels of familiarity with R: See this <a href="https://carpentries.org/blog/2021/07/infrastructure-testing/">Blog Post from 2021 on the Alpha Test of the infrastructure</a>.</p>
<p>Zhian Kamvar has given two talks about The Workbench that go into a little bit more detail about why we chose R (which highlight the points above)</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Talk</th>
<th>Video</th>
<th>Slides (with speaker notes)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://zkamvar.netlify.app/talk/carpentries-user-2021/">Using R as a Community Workbench for The Carpentries Lesson Infrastructure</a></td>
<td><a href="https://youtu.be/vd8XZSuY_Rs?t=1240" title="Zhian's talk from Use!R in 2021">Use!R 2021 Video</a></td>
<td><a href="https://zkamvar.github.io/user2021/#p1" class="uri">https://zkamvar.github.io/user2021/#p1</a></td>
</tr>
<tr class="even">
<td><a href="https://zkamvar.netlify.app/talk/carpentries-rstudio-2022/">Building Accessible Lessons with R and Friends</a></td>
<td><a href="https://www.rstudio.com/conference/2022/talks/building-accessible-lessons-r-friends/?wvideo=ssot3tfv28" title="Zhian's talk from RStudio in 2021"><code>rstudio::conf(2022)</code> Video</a></td>
<td><a href="https://zkamvar.github.io/rstudio-conf-2022/#p1" class="uri">https://zkamvar.github.io/rstudio-conf-2022/#p1</a></td>
</tr>
</tbody>
</table>
</section>
<section id="do-i-need-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="do-i-need-rstudio">Do I really need to use RStudio?</h3>
<p>No.&nbsp;We recommend using RStudio for <a href="#recommend">several reasons that pertain to ease of use and standardisation across systems</a>, but we do not absolutely require it. If you are able to get Git, R, and pandoc installed on your system, then you do not need to use RStudio.</p>
</section>
<section id="what-is-an-r-library" class="level3">
<h3 class="anchored" data-anchor-id="what-is-an-r-library">What is an R Library?</h3>
<p>An R library is a folder on your computer that stores R packages. When you install R packages, the first message you will see will probably be something like (on Windows):</p>
<pre><code>Installing packages into ‘c:/Users/USER/Documents/R/win-library/4.0’
(as ‘lib’ is unspecified)</code></pre>
<p>This folder is where all of the R packages you install via <code>install.packages()</code> will live. If you ever need to look this up, you can use the <code>.libPaths()</code> function.</p>
<p>Sometimes, your R session will issue a warning that says a folder is not writeable and asks if you would like to use a personal library instead. In this case, select “yes”.</p>
</section>
<section id="workflow-plethora" class="level3">
<h3 class="anchored" data-anchor-id="workflow-plethora">Why are there so many GitHub Workflows and what do they do?</h3>
<p>Each lesson contains a set of GitHub workflows that are important for the following tasks:</p>
<ul>
<li>building the lesson and deploying it on GitHub (<code>.github/workflows/sandpaper-main.yaml</code>)</li>
<li>validating and responding to pull requests</li>
<li>automated updates of workflows and (for lessons that use R) package cache</li>
</ul>
<p>These workflows originate from {sandpaper} and are copied directly into each lesson as described in <a href="https://github.com/carpentries/sandpaper/tree/main/inst/workflows#readme">a README.md inside the {sandpaper} repository</a>.</p>
<p>You can read technical details of how the workflows work and how they are connected by reading <a href="https://carpentries.github.io/workbench-dev/remote/intro.html#workflows">the Workflows section of the Remote Deployment Chapter</a> in the Workbench Developer’s Guide.</p>
</section>
<section id="what-are-the-md-outputs-and-gh-pages-branches" class="level3">
<h3 class="anchored" data-anchor-id="what-are-the-md-outputs-and-gh-pages-branches">What are the <code>md-outputs</code> and <code>gh-pages</code> branches?</h3>
<p>These branches are part of <a href="https://carpentries.github.io/workbench/workflow-guide.html#remote-workflow">the remote two-step workflow</a>.</p>
<ul>
<li><code>md-outputs</code>: contains rendered markdown files, cached to 1) speed up computations by skipping content that has not changed and 2) allow for comparison of rendered output in Pull Requests</li>
<li><code>gh-pages</code>: contains the rendered website.</li>
</ul>
</section>
<section id="why-is-the-workbench-creating-so-many-md-outputs-pr-branches" class="level3">
<h3 class="anchored" data-anchor-id="why-is-the-workbench-creating-so-many-md-outputs-pr-branches">Why is The Workbench creating so many <code>md-outputs-PR</code> branches?</h3>
<p>You might notice that every time a valid pull request is opened, a new branch is created. Each branch is unique to a pull request and is automatically removed when the pull request is closed.</p>
<p>These branches are orphan branches that contain two commits: the first commit is the current state of the <code>md-outputs</code> branch containing the rendered markdown of the active lesson. The second commit contains the rendered markdown of the pull request. The diff between these commits can be used to analyse changes in output of R Markdown documents. For more information, please read the <a href="https://carpentries.github.io/sandpaper-docs/pull-request.html">Auditing Pull Requests Chapter</a> in the Introduction to The Workbench.</p>
</section>
<section id="how-do-i-add-a-custom-logo" class="level3">
<h3 class="anchored" data-anchor-id="how-do-i-add-a-custom-logo">How do I add a custom logo?</h3>
<p>For custom logos, you should do the following:</p>
<ol type="1">
<li><a href="https://github.com/carpentries/varnish/fork">fork {varnish}</a></li>
<li>modify the <code>incubator-logo.svg</code> and <code>incubator-logo-sm.svg</code> logos in the <code>source/images/</code> folder.</li>
<li>ensure your lessons use the <code>carpentries: 'incubator'</code> and <code>varnish:     'MYACCOUNT/varnish'</code> keys in the <code>config.yaml</code></li>
</ol>
</section>
<section id="custom-package" class="level3">
<h3 class="anchored" data-anchor-id="custom-package">How do I get my lesson to use a custom Workbench package?</h3>
<p>If you have a custom version of a Workbench package (e.g.&nbsp;{varnish}, with different colours, logos, or badges), there are two steps to get your lesson to use it:</p>
<ol type="1">
<li>ensure your package is publicly available on GitHub</li>
<li>in your lesson, <a href="https://carpentries.github.io/sandpaper/reference/set_config.html#custom-engines">specify your package using the custom engine declaration in the <code>config.yaml</code></a></li>
</ol>
</section>
<section id="docker" class="level3">
<h3 class="anchored" data-anchor-id="docker">Is there a Docker Container?</h3>
<p>As of 2023-12-20, there is no official docker container, but the community has some around and created a few iterations as discussed in <a href="https://github.com/carpentries/workbench/issues/39">carpentries/workbench#39</a>.</p>
</section>
</section>
<section id="lesson-transition" class="level2">
<h2 class="anchored" data-anchor-id="lesson-transition">Lesson Transition</h2>
<p>This section is applicable for transitioning between the former <a href="https://github.com/carpentries/styles">carpentries/styles</a> lesson infrastructure and The Workbench.</p>
<section id="transition-new" class="level3">
<h3 class="anchored" data-anchor-id="transition-new">How do I transition my lesson to using The Workbench?</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Limited Support
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due to <a href="https://carpentries.org/blog/2023/12/saying-farewell-to-seven-carpentries-core-team-members/">significant staffing changes in late 2023</a>, The Carpentries is unable to provide support for transitioning unofficial lessons to use The Carpentries Workbench.</p>
</div>
</div>
<p>You can use the <a href="https://github.com/carpentries/lesson-transition/#readme">Lesson Transition Tool</a>, which will:</p>
<ol type="1">
<li>create a submodule for your lesson</li>
<li>filter out the infrastructure-related commits</li>
<li><a href="https://carpentries.github.io/pegboard/articles/intro-episode.html#jekyll-lesson-markdown-content">transform the markdown syntax using {pegboard}</a></li>
</ol>
<p>It requires Python, R, git, Make, and BASH (it is unknown if these routines will work with zsh). I have written out detailed instructions for the transition process, but please note: these assume you have administrative access to your lesson.</p>
<ul>
<li><a href="https://github.com/carpentries/lesson-transition/blob/main/transition-workflow.md#register-a-lesson-submodule-to-this-repository">Initiating and testing a lesson transtion</a></li>
<li><a href="https://github.com/carpentries/lesson-transition/blob/main/release-workflow.md">Transitioning and uploading a lesson</a></li>
</ul>
</section>
<section id="long-fork" class="level3">
<h3 class="anchored" data-anchor-id="long-fork">How do I transition a long-running fork to using The Workbench?</h3>
<p>See <a href="#transition-new">the above section</a> for instructions. You can copy the lesson-specific transition script to your fork folder to make things easier (though this depends on when you last updated your fork). If you do not have any intention of recieving or contributing your changes to the source, then the above section should be all that you need.</p>
<p>If you want to continue updating your fork, it will be a little more complicated because it depends on when you last updated your fork. There is some discussion in <a href="https://github.com/carpentries/workbench/issues/51#issuecomment-1550028442">carpentries/workbench#51</a>.</p>
<p>In short, the commit histories will be identical up until the point of the fork and then the commit history will diverge (but still be relatively compatible) until the point of transition. You may be able to merge the upstream into your fork, but it will not be easy and it will likely contain several merge conflicts. This is not to say that it cannot be done, but it highly depends on the level of customisation you did in the fork. Take for example a <a href="https://github.com/MonashDataFluency/shell-novice/tree/2f4ee4bd9ed01513b8001192fc651ba3a5cca69e">fork of the shell-novice lesson</a> that had 16 commits <em>ahead</em> of <a href="https://github.com/swcarpentry/shell-novice">swcarpentry/shell-novice</a>. Attempting to update the transitioned fork resulted in 188 conflicts<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<pre><code>Unmerged paths:
  (use "git add/rm &lt;file&gt;..." as appropriate to mark resolution)
    both added:      .github/workflows/sandpaper-version.txt
    both added:      .gitignore
    both added:      CONTRIBUTING.md
    both modified:   README.md
    both added:      config.yaml
    both deleted:    data/data-shell.zip
    both modified:   episodes/01-intro.md
    both modified:   episodes/02-filedir.md
    both modified:   episodes/03-create.md
    both modified:   episodes/04-pipefilter.md
    deleted by us:   episodes/05-loop.md
    both modified:   episodes/05-script.md
    both modified:   episodes/07-find.md
    added by us:     episodes/data/data-shell.zip
    added by them:   episodes/data/shell-lesson-data.zip
    deleted by them: episodes/fig/redirects-and-pipes.png
    both modified:   index.md
    both added:      instructors/instructor-notes.md
    both modified:   learners/discuss.md
    both added:      learners/reference.md
    both added:      learners/setup.md</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rg <span class="at">-c</span> <span class="st">'&lt;&lt;&lt;&lt;'</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">index.md:1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">config.yaml:5</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">README.md:3</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/04-pipefilter.md:25</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/05-script.md:20</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/02-filedir.md:40</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/03-create.md:34</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/01-intro.md:3</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ex">episodes/07-find.md:25</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ex">instructors/instructor-notes.md:14</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ex">CONTRIBUTING.md:2</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="ex">learners/discuss.md:3</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="ex">learners/reference.md:12</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="ex">learners/setup.md:1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rg <span class="at">-c</span> <span class="st">'&lt;&lt;&lt;&lt;'</span> <span class="kw">|</span> <span class="fu">awk</span> <span class="at">-F:</span> <span class="st">'{sum+=$2} END{print sum}'</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">188</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="local-clones" class="level3">
<h3 class="anchored" data-anchor-id="local-clones">Local Clones</h3>
<section id="update-clone-from-styles" class="level4">
<h4 class="anchored" data-anchor-id="update-clone-from-styles">How do I update my clone after the transition from styles?</h4>
<p>The easiest way is to rename your local clone to <code>old-NAME</code> (where <code>NAME</code> is the name of your repository folder) and then re-clone the lesson. You can find details on <a href="beta-phase.html#updating-clone">updating your local clone</a> on the beta phase page.</p>
</section>
</section>
<section id="github-forks" class="level3">
<h3 class="anchored" data-anchor-id="github-forks">Post-transition GitHub Forks</h3>
<section id="update-fork-from-styles" class="level4">
<h4 class="anchored" data-anchor-id="update-fork-from-styles">How do I update my fork after the transition from styles?</h4>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Before you read further
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>This is only applicable if you have created a fork of the lesson before 2023-02-06.</strong></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Do not “synchronise” your fork
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you attempt to synchronise your fork from the GitHub interface and create a pull request, that pull request will fail. Instead, follow the instructions below.</p>
</div>
</div>
<p>The easiest way to do this is to delete your fork and re-clone. The commit history of the lesson has changed and you will be unable to commit until your fork reflects those changes (this is known as the <a href="https://happygitwithr.com/burn.html">burn it all down strategy</a>):</p>
<ol type="1">
<li>Save your edits on locally or in a scratch space.</li>
<li><strong><a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/deleting-a-repository">Delete your fork</a></strong></li>
<li><strong><a href="https://docs.github.com/en/get-started/quickstart/fork-a-repo">Create a new fork</a></strong> or use the “edit” button on the page you wish to edit.</li>
<li>Apply your changes (<strong>NOTE The Workbench uses a different syntax.</strong> Here is a <a href="https://carpentries.github.io/workbench/transition-guide.html">Transition Guide from Styles to Workbench</a> for your reference).</li>
</ol>
<p>Note that if you have a clone, you will need to also <a href="#update-clone-from-styles">delete and re-clone</a>.</p>
<iframe width="100%" height="315" src="https://www.youtube-nocookie.com/embed/9DVwy818MIE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Production Forks
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have a fork of a lesson that you have modified significantly and wish to continue maintaining under The Workbench, contact Zhian Kamvar and he will help you transition your repository.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
contributing without deleting
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you contribute directly on the lesson itself using the “edit” button on GitHub, a new branch will be created for you and you can edit on that branch without deleting your fork.</p>
<p>This method is <em>not recommended</em> because it runs the risk that you will accidentally merge histories in your fork.</p>
</div>
</div>
</section>
</section>
</section>
<section id="teaching" class="level2">
<h2 class="anchored" data-anchor-id="teaching">Teaching</h2>
<section id="github-forks-1" class="level3">
<h3 class="anchored" data-anchor-id="github-forks-1">GitHub Forks</h3>
<section id="teaching-fork" class="level4">
<h4 class="anchored" data-anchor-id="teaching-fork">How do I create a fork for teaching?</h4>
<p>A common pattern for teaching is to create a fork of a lesson, modify it to add or remove specific section. Because the pages on The Workbench are deployed by GitHub actions, there are a couple of extra steps you need to do to enable the pages to load after the transition.</p>
<p>In short, when you fork, to make it easier, you should bring in all branches, enable GitHub pages, and enable GitHub Actions. After that, you will have your lesson website and can teach from it.</p>
<p>You can find the instructions in <a href="https://carpentries.org/blog/2023/01/dovetail-14/#tips-and-tricks-for-using-the-workbench">issue 14 of the Dovetail blog series</a>.</p>
</section>
</section>
<section id="workshop-websites" class="level3">
<h3 class="anchored" data-anchor-id="workshop-websites">Workshop Websites</h3>
<section id="how-do-i-add-episodes-to-my-workshop-website" class="level4">
<h4 class="anchored" data-anchor-id="how-do-i-add-episodes-to-my-workshop-website">How do I add episodes to my workshop website?</h4>
<p>Before 2020, instructors were occasionally encouraged to copy the episodes from a lesson into their workshop website to avoid situations where the lesson would change significantly while the workshop was being taught. In short, you can not do this. Instead, you can <a href="#teaching-fork">make a fork of the lesson</a> and link that on your workshop website.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Coming up: versioned lessons
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the future, we will implement lesson versioning where you will be able to select a specific version of a lesson to teach from, so that you can always be sure that the content is stable.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Low-rent versioning with HTMLpreview
</div>
</div>
<div class="callout-body-container callout-body">
<p>The website <a href="https://htmlpreview.github.io" class="uri">https://htmlpreview.github.io</a> allows you to display HTML pages hosted on GitHub without needing to set up GitHub pages. If you do not want to fork, but still want a working version you can teach from, you can head to a workbench repository, select the <code>gh-pages</code> branch, select the <code>index.html</code> file and click on <code>copy permalink</code> and paste that into html preview:</p>
<p>For example: this is the workbench documentation as of 2023-02-07: <a href="https://htmlpreview.github.io/?https://github.com/carpentries/sandpaper-docs/blob/59651a69e7716c04edaf8f9c1c79abc18ce3e476/index.html" class="uri">https://htmlpreview.github.io/?https://github.com/carpentries/sandpaper-docs/blob/59651a69e7716c04edaf8f9c1c79abc18ce3e476/index.html</a></p>
<p>This is a very workable version of the lesson (with some styling differences as the default font could not be loaded).</p>
<p>The only catch is that you have to manually switch to instructor view by the URL: <a href="https://htmlpreview.github.io/?https://github.com/carpentries/sandpaper-docs/blob/59651a69e7716c04edaf8f9c1c79abc18ce3e476/instructor/index.html" class="uri">https://htmlpreview.github.io/?https://github.com/carpentries/sandpaper-docs/blob/59651a69e7716c04edaf8f9c1c79abc18ce3e476/instructor/index.html</a></p>
<p>And there you have a quick version of the lesson.</p>
</div>
</div>
</section>
</section>
</section>
<section id="learning" class="level2">
<h2 class="anchored" data-anchor-id="learning">Learning</h2>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>It should be noted that these conflicts are not <em>all</em> created by the transition. Conflicts are an inevitable consequence of long-running forks that are not regularly updated. The transitioned lesson just added to the conflicts.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/carpentries\.github\.io\/workbench\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>